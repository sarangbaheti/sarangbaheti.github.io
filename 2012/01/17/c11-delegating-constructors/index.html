<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>C&#43;&#43;11: delegating constructors - a few notes</title>
  <meta name="description" content="notes on C&#43;&#43;11 delegating constuctors and a few details">
  <meta name="author" content="Sarang Baheti"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "a few notes",
    
    "url": "https:\/\/www.variadic.xyz\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/www.variadic.xyz\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/www.variadic.xyz\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/www.variadic.xyz\/2012\/01\/17\/c11-delegating-constructors\/",
          "name": "C\u002b\u002b11 delegating constructors"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Sarang Baheti"
  },
  "headline": "C\u002b\u002b11: delegating constructors",
  "description" : "notes on C\u002b\u002b11 delegating constuctors and a few details",
  "inLanguage" : "en",
  "wordCount":  644 ,
  "datePublished" : "2012-01-17T00:00:00",
  "dateModified" : "2012-01-17T00:00:00",
  "image" : "https:\/\/www.variadic.xyz\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/www.variadic.xyz\/2012\/01\/17\/c11-delegating-constructors\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/www.variadic.xyz\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/www.variadic.xyz\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="C&#43;&#43;11: delegating constructors" />
<meta property="og:description" content="notes on C&#43;&#43;11 delegating constuctors and a few details">
<meta property="og:url" content="https://www.variadic.xyz/2012/01/17/c11-delegating-constructors/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="a few notes" />

  <meta name="twitter:title" content="C&#43;&#43;11: delegating constructors" />
  <meta name="twitter:description" content="notes on C&#43;&#43;11 delegating constuctors and a few details">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.73.0" />
  <link rel="alternate" href="https://www.variadic.xyz/index.xml" type="application/rss+xml" title="a few notes"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://www.variadic.xyz/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://www.variadic.xyz/css/syntax.css" /><link rel="stylesheet" href="https://www.variadic.xyz/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-27935503-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.variadic.xyz/">a few notes</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Notes" href="/">Notes</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Archive" href="/archive/">Archive</a>
            </li>
          
        
          
            <li>
              <a title="Books" href="/books/">Books</a>
            </li>
          
        
          
            <li>
              <a title="Disclaimer" href="/disclaimer/">Disclaimer</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>C&#43;&#43;11: delegating constructors</h1>
              
              
              
              
                <span class="post-meta">
  
  

  
    Posted on January 17, 2012
  

  
  
  
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">

      
      

        
          
          

<h2 id="too-many-initializers-constructors">Too many initializers/constructors</h2>

<p style="text-align: justify;">
  It&#8217;s fairly common to write classes with multiple constructors, but they tend to get messy very soon. One of the biggest problems is initialization of the member variables. You, as programmer, need to ensure that member variables are initialized correctly in each constructor. Ensuring this consistency is quite tedious, boring and very easy to get wrong.
</p>

<p style="text-align: justify;">
  For example consider the class Sample:
</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00a8c8">class</span> <span style="color:#75af00">Sample</span>
<span style="color:#111">{</span>
<span style="color:#00a8c8">public</span><span style="color:#f92672">:</span>

    <span style="color:#111">Sample</span><span style="color:#111">()</span> <span style="color:#f92672">:</span> <span style="color:#111">r</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">),</span> <span style="color:#111">i</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>

    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">)</span> <span style="color:#f92672">:</span> <span style="color:#111">r</span><span style="color:#111">(</span><span style="color:#111">real</span><span style="color:#111">),</span> <span style="color:#111">i</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>

    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">,</span> <span style="color:#00a8c8">double</span> <span style="color:#111">img</span><span style="color:#111">)</span> <span style="color:#f92672">:</span> <span style="color:#111">r</span><span style="color:#111">(</span><span style="color:#111">real</span><span style="color:#111">),</span> <span style="color:#111">i</span><span style="color:#111">(</span><span style="color:#111">img</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>

    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">2</span><span style="color:#111">])</span> <span style="color:#f92672">:</span> <span style="color:#111">r</span><span style="color:#111">(</span><span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">0</span><span style="color:#111">]),</span> <span style="color:#111">i</span><span style="color:#111">(</span><span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">1</span><span style="color:#111">])</span>
    <span style="color:#111">{</span>

    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">const</span> <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span><span style="color:#111">)</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>
    <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span> <span style="color:#00a8c8">operator</span><span style="color:#f92672">=</span><span style="color:#111">(</span><span style="color:#00a8c8">const</span> <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span><span style="color:#111">)</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>
    <span style="color:#f92672">~</span><span style="color:#111">Sample</span><span style="color:#111">()</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>
    
<span style="color:#00a8c8">private</span><span style="color:#f92672">:</span>
    <span style="color:#00a8c8">double</span> <span style="color:#111">r</span><span style="color:#111">;</span>
    <span style="color:#00a8c8">double</span> <span style="color:#111">i</span><span style="color:#111">;</span>
<span style="color:#111">};</span>
</code></pre></td></tr></table>
</div>
</div>
<p style="text-align: justify;">
  Sample class has 4 constructors each initializing member variables r and i. It&#8217;s quite easy to forget to initialize these. Also the initializer code is also fairly repetitive, following the DRY (<a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">Don&#8217;t Repeat Yourself</a>) principle it would be nice to abstract it out into a initializer method and then call this inside each constructor:
</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00a8c8">class</span> <span style="color:#75af00">Sample</span>
<span style="color:#111">{</span>
<span style="color:#00a8c8">private</span><span style="color:#f92672">:</span>
    <span style="color:#00a8c8">void</span> <span style="color:#111">Init</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">,</span> <span style="color:#00a8c8">double</span> <span style="color:#111">img</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">-&amp;</span><span style="color:#111">gt</span><span style="color:#111">;</span><span style="color:#111">r</span> <span style="color:#f92672">=</span> <span style="color:#111">real</span><span style="color:#111">;</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">-&amp;</span><span style="color:#111">gt</span><span style="color:#111">;</span><span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#111">img</span><span style="color:#111">;</span>
    <span style="color:#111">}</span>
<span style="color:#00a8c8">public</span><span style="color:#f92672">:</span>

    <span style="color:#111">Sample</span><span style="color:#111">()</span>
    <span style="color:#111">{</span>
        <span style="color:#111">Init</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">,</span><span style="color:#ae81ff">0</span><span style="color:#111">);</span>
    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>
        <span style="color:#111">Init</span><span style="color:#111">(</span><span style="color:#111">real</span><span style="color:#111">,</span><span style="color:#ae81ff">0</span><span style="color:#111">);</span>
    <span style="color:#111">}</span>
    
    <span style="color:#111">...</span>
    
<span style="color:#111">};</span>
</code></pre></td></tr></table>
</div>
</div>
<p style="text-align: justify;">
  This works and has been used by many C++ developers over decades however it gives up the benefits of initializing members in initializer list of constructor.
</p>

<h2 id="delegating-constructors">delegating constructors</h2>

<p style="text-align: justify;">
  In previous code sample the concise way of initializing objects of a class is to use a init method or to delegate the initialization of the member variables to a method but losing out on the initializer list benefits. This pattern is so useful that various new languages support this delegating construction out of box (C# has similar concept named <a href="http://www.codeproject.com/Articles/271582/Constructor-Chaining-in-Csharp">Constructor Chaining</a>). C++11 also voted on similar proposal of delegating constructors. With delegating constructors above code will look like:
</p>
<div class="highlight"><div style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00a8c8">class</span> <span style="color:#75af00">Sample</span>
<span style="color:#111">{</span>
<span style="color:#00a8c8">private</span><span style="color:#f92672">:</span>
    <span style="color:#75715e">//
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// delegated constructor
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// it should cover the most general initialization
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// case and all other constructors will then call
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// this one to initialize the object
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//
</span><span style="color:#75715e"></span>    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">,</span> <span style="color:#00a8c8">double</span> <span style="color:#111">img</span><span style="color:#111">)</span> <span style="color:#f92672">:</span> <span style="color:#111">r</span><span style="color:#111">(</span><span style="color:#111">real</span><span style="color:#111">),</span> <span style="color:#111">i</span><span style="color:#111">(</span><span style="color:#111">img</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>
    <span style="color:#111">}</span>
<span style="color:#00a8c8">public</span><span style="color:#f92672">:</span>

    <span style="color:#111">Sample</span><span style="color:#111">()</span> <span style="color:#f92672">:</span> <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#ae81ff">0.0</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>
    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">real</span><span style="color:#111">)</span> <span style="color:#f92672">:</span> <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#111">real</span><span style="color:#111">,</span><span style="color:#ae81ff">0</span><span style="color:#111">)</span>
    <span style="color:#111">{</span>
    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">double</span> <span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">2</span><span style="color:#111">])</span><span style="color:#f92672">:</span> <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">0</span><span style="color:#111">],</span> <span style="color:#111">data</span><span style="color:#111">[</span><span style="color:#ae81ff">1</span><span style="color:#111">])</span>
    <span style="color:#111">{</span>
    <span style="color:#111">}</span>
    
    <span style="color:#111">Sample</span><span style="color:#111">(</span><span style="color:#00a8c8">const</span> <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span><span style="color:#111">)</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>
    <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span> <span style="color:#00a8c8">operator</span><span style="color:#f92672">=</span><span style="color:#111">(</span><span style="color:#00a8c8">const</span> <span style="color:#111">Sample</span><span style="color:#f92672">&amp;</span><span style="color:#111">)</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>
    <span style="color:#f92672">~</span><span style="color:#111">Sample</span><span style="color:#111">()</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">default</span><span style="color:#111">;</span>

<span style="color:#00a8c8">private</span><span style="color:#f92672">:</span>
    <span style="color:#00a8c8">double</span> <span style="color:#111">r</span><span style="color:#111">;</span>
    <span style="color:#00a8c8">double</span> <span style="color:#111">i</span><span style="color:#111">;</span>
<span style="color:#111">};</span>
</code></pre></td></tr></table>
</div>
</div>
<p style="text-align: justify;">
  Constructor defined at Line 10 is the delegated constructor. And it is being delegated the task of constructing object by various constructors at line: 16, 21 and 26.
</p>

<p style="text-align: justify;">
  Default Constructor at Line 16 delegates construction to Constructor with one parameter, Line 21, which then delegates the construction to the private constructor with two parameters at Line 10.
</p>

<p style="text-align: justify;">
  Few things to note about delegating constructors (please refer the paper <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2006/n1986">N1986</a> for details):
</p>

<p><li style="text-align: justify;">
  you cannot initialize any member variable along with delegating constructor
</li>
<li style="text-align: justify;">
  delegating constructor can delegate to other constructor as well, however it is developer&#8217;s responsibility to ensure there are no cycles in delegation
</li>
<li style="text-align: justify;">
  behaviour while failure to construct object will remain unchanged, as we are initializing any member variable only once (pt 1)
</li></p>

<h2 style="text-align: justify;">
  Summary
</h2>

<p style="text-align: justify;">
  Concept of delegating constructor is very simple to understand and use. This feature is mostly syntactic sugar with some validation, but a big win when it comes to usability and writing cleaner code with C++ language.
</p>

<h6 class="zemanta-related-title" style="font-size: 1em;">
  Related articles
</h6>

<ul >
  <li >
    <a href="/2012/01/05/c11-defaulted-and-deleted-functions/">C++11: defaulted and deleted functions</a> 
  </li>
  <li >
    <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2006/n1986">N1986: Delegating Constructors</a> (www.open-std.org)
  </li>
</ul>

        
      
      <br/>
      
        
        

        <hr>
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://www.variadic.xyz/2012/01/07/c-template-metaprogramming/" data-toggle="tooltip" data-placement="top" title="C&#43;&#43; Template Metaprogramming">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://www.variadic.xyz/2012/01/22/delete-user-caches-in-mac-os-x/" data-toggle="tooltip" data-placement="top" title="Delete User Caches in Mac OS X">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Sarang Baheti
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2020
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://www.variadic.xyz/">a few notes</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.73.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/sarangbaheti/beautifulhugo">beautifulhugo</a> forked from <a href="https://github.com/halogenica/beautifulhugo"> halogenica/Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://www.variadic.xyz/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://www.variadic.xyz/js/load-photoswipe.js"></script>









    
  </body>
</html>

